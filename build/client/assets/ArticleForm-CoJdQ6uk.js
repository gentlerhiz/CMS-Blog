import{a as i,p as e}from"./chunk-OIYGIGL5-DhW0zAkl.js";import{R as y}from"./RichTextEditor-B_rsxs_f.js";import{c as d}from"./createLucideIcon-DvTHDFVP.js";import{T as f}from"./tag-CacXKHD8.js";import{X as v}from"./x-CV5Lq9Mb.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],N=d("link-2",j);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],k=d("loader-circle",w);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D=d("save",C);function M({article:a,categories:x,onSubmit:m,onCancel:h,isSubmitting:c=!1}){const[r,g]=i.useState({title:a?.title||"",slug:a?.slug||"",content:a?.content||"",category:a?.category||"",status:a?.status||"draft",dueDate:a?.dueDate?new Date(a.dueDate).toISOString().split("T")[0]:"",parentId:a?.parent?.id||""}),[s,u]=i.useState({});i.useEffect(()=>{if(r.title&&!a){const t=r.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");g(o=>({...o,slug:t}))}},[r.title,a]);const b=()=>{const t={};return r.title.trim()||(t.title="Title is required"),r.slug.trim()?/^[a-z0-9-]+$/.test(r.slug)||(t.slug="Slug can only contain lowercase letters, numbers, and hyphens"):t.slug="Slug is required",r.category.trim()||(t.category="Category is required"),u(t),Object.keys(t).length===0},p=t=>{t.preventDefault(),b()&&m(r)},l=(t,o)=>{g(n=>({...n,[t]:o})),s[t]&&u(n=>({...n,[t]:void 0}))};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-4xl mx-auto px-6 lg:px-8 py-12",children:e.jsxs("form",{onSubmit:p,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Article Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 mb-3",children:"Title *"}),e.jsx("input",{type:"text",id:"title",value:r.title,onChange:t=>l("title",t.target.value),placeholder:"Enter a compelling title...",className:`w-full px-4 py-4 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500 ${s.title?"border-red-300 bg-red-50":"border-gray-300 bg-white hover:border-gray-400"}`}),s.title&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.title})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"slug",className:"block text-sm font-semibold text-gray-900 mb-3",children:[e.jsx(N,{className:"w-4 h-4 inline mr-1"}),"URL Slug *"]}),e.jsx("input",{type:"text",id:"slug",value:r.slug,onChange:t=>l("slug",t.target.value),placeholder:"url-friendly-slug",className:`w-full px-4 py-4 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500 ${s.slug?"border-red-300 bg-red-50":"border-gray-300 bg-white hover:border-gray-400"}`}),s.slug&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.slug})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"category",className:"block text-sm font-semibold text-gray-900 mb-3",children:[e.jsx(f,{className:"w-4 h-4 inline mr-1"}),"Category *"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("select",{id:"category",value:r.category,onChange:t=>l("category",t.target.value),className:`w-full px-4 py-4 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 appearance-none ${s.category?"border-red-300 bg-red-50":"border-gray-300 bg-white hover:border-gray-400"}`,children:[e.jsx("option",{value:"",children:"Select a category"}),x.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Or create a new category:"}),e.jsx("input",{type:"text",value:r.category,onChange:t=>l("category",t.target.value),placeholder:"Enter new category name",className:`w-full px-4 py-4 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500 ${s.category?"border-red-300 bg-red-50":"border-gray-300 bg-white hover:border-gray-400"}`})]}),s.category&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:s.category})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-semibold text-gray-900 mb-3",children:"Status *"}),e.jsxs("select",{id:"status",value:r.status,onChange:t=>l("status",t.target.value),className:"w-full px-4 py-4 border border-gray-300 bg-white hover:border-gray-400 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 appearance-none",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"amendment",children:"Amendment"}),e.jsx("option",{value:"upcoming",children:"Upcoming"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dueDate",className:"block text-sm font-semibold text-gray-900 mb-3",children:"Due Date"}),e.jsx("input",{type:"date",id:"dueDate",value:r.dueDate,onChange:t=>l("dueDate",t.target.value),className:"w-full px-4 py-4 border border-gray-300 bg-white hover:border-gray-400 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Content"}),e.jsx(y,{content:r.content,onChange:t=>l("content",t),placeholder:"Start writing your article content..."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-end",children:[e.jsxs("button",{type:"button",onClick:h,className:"px-8 py-4 border-2 border-gray-300 text-gray-700 rounded-2xl hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-semibold",children:[e.jsx(v,{className:"w-5 h-5 mr-2 inline"}),"Cancel"]}),e.jsx("button",{type:"submit",disabled:c,className:"px-8 py-4 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl font-semibold",children:c?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-5 h-5 mr-2 inline animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-5 h-5 mr-2 inline"}),a?"Update Article":"Create Article"]})})]})]})})})}export{M as A};
