import{w as p,a as d,p as i}from"./chunk-OIYGIGL5-DhW0zAkl.js";import{A as f}from"./ArticleForm-CoJdQ6uk.js";import"./RichTextEditor-B_rsxs_f.js";import"./index-BBefw_Qh.js";import"./createLucideIcon-DvTHDFVP.js";import"./list-DUDElNus.js";import"./tag-CacXKHD8.js";import"./x-CV5Lq9Mb.js";function F({}){return[{title:"New Article - EdTech CMS"},{name:"description",content:"Create a new article"}]}const g=p(function({loaderData:a}){const{categories:n}=a,[c,e]=d.useState(!1),s=async m=>{e(!0);const r=new FormData;Object.entries(m).forEach(([t,o])=>{o&&r.append(t,o)});try{const t=await fetch("/articles/new",{method:"POST",body:r});if(t.redirected)window.location.href=t.url;else if(!t.ok)throw new Error("Failed to create article")}catch(t){console.error("Failed to create article:",t),alert("Failed to create article. Please try again.")}finally{e(!1)}},l=()=>{window.history.back()};return i.jsx("div",{children:i.jsx(f,{categories:n,onSubmit:s,onCancel:l,isSubmitting:c})})});export{g as default,F as meta};
