import{w as f,a as u,p as a}from"./chunk-OIYGIGL5-DhW0zAkl.js";import{A as h}from"./ArticleForm-CoJdQ6uk.js";import"./RichTextEditor-B_rsxs_f.js";import"./index-BBefw_Qh.js";import"./createLucideIcon-DvTHDFVP.js";import"./list-DUDElNus.js";import"./tag-CacXKHD8.js";import"./x-CV5Lq9Mb.js";function j({params:n}){return[{title:"Edit Article - EdTech CMS"},{name:"description",content:"Edit article"}]}const A=f(function({loaderData:c}){const{article:e,categories:s}=c,[l,r]=u.useState(!1),d=async p=>{r(!0);const i=new FormData;Object.entries(p).forEach(([t,o])=>{o&&i.append(t,o)});try{const t=await fetch(`/articles/${e.id}/edit`,{method:"POST",body:i});if(t.redirected)window.location.href=t.url;else if(!t.ok)throw new Error("Failed to update article")}catch(t){console.error("Failed to update article:",t),alert("Failed to update article. Please try again.")}finally{r(!1)}},m=()=>{window.history.back()};return a.jsx("div",{children:a.jsx(h,{article:e,categories:s,onSubmit:d,onCancel:m,isSubmitting:l})})});export{A as default,j as meta};
